"use strict";exports.id=67,exports.ids=[67],exports.modules={6211:(e,t,a)=>{a.d(t,{A0:()=>i,BF:()=>o,Hj:()=>d,XI:()=>n,nA:()=>u,nd:()=>c});var s=a(60687),r=a(43210),l=a(4780);let n=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:a,className:(0,l.cn)("w-full caption-bottom text-sm",e),...t})}));n.displayName="Table";let i=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("thead",{ref:a,className:(0,l.cn)("[&_tr]:border-b",e),...t}));i.displayName="TableHeader";let o=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("tbody",{ref:a,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...t}));o.displayName="TableBody",r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("tfoot",{ref:a,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let d=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("tr",{ref:a,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));d.displayName="TableRow";let c=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("th",{ref:a,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableHead";let u=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("td",{ref:a,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableCell",r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("caption",{ref:a,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},16812:(e,t,a)=>{a.d(t,{$T:()=>u,HW:()=>c,ME:()=>o,Mr:()=>f,iC:()=>m,mk:()=>d,qb:()=>n,tm:()=>i});var s=a(91199);a(42087);var r=a(33331);let l=process.env.EPMAILPRO_PUBLIC_KEY;async function n(e,t,a={},s=null){if(!l)throw Error("Missing EPMAILPRO_PUBLIC_KEY. Check your .env file and App Hosting backend configuration.");let r=t.startsWith("/")?t.substring(1):t,i=`https://app.epmailpro.com/api/${r}`,o={"X-MW-PUBLIC-KEY":l},d={method:e,headers:o,cache:"no-store"};if("GET"===e){let e=new URLSearchParams(Object.entries(a).map(([e,t])=>[e,String(t)]));e.toString()&&(i+=`?${e.toString()}`)}else s&&(o["Content-Type"]="application/json",d.body=JSON.stringify(s));let c={url:i,headers:{...o},body:d.body||null};try{let e=await fetch(i,d),t=await e.text();if(!e.ok){let a=`API request failed with status ${e.status}.`;try{let e=JSON.parse(t),s=e.error||(e.data?e.data.error:JSON.stringify(e));a+=` Details: ${s}`}catch(e){a+=` Response body: ${t}`}let s=Error(a);throw s.statusCode=e.status,s.requestInfo=c,s}if(!t)return{data:null,requestInfo:c};try{let e=JSON.parse(t);if(e.status&&"success"!==e.status){let t=Error(`API returned a failure status: ${JSON.stringify(e.error||e)}`);throw t.requestInfo=c,t}return{data:e.data?.records||e.data?.record||e.data||e,requestInfo:c}}catch(a){if("[]"===t)return{data:[],requestInfo:c};let e=Error(`Invalid JSON response from API. Raw text: ${t}`);throw e.requestInfo=c,e}}catch(e){throw e.requestInfo||(e.requestInfo=c),e}}async function i(e){try{let{data:t}=await n("GET",`campaigns/${e}`);if(!t)return null;return t}catch(t){return console.error(`Could not fetch details for campaign ${e}. Reason:`,t),null}}async function o(){let{data:e}=await n("GET","campaigns",{page:"1",per_page:"50"}),t=(Array.isArray(e)?e:e?.records)||[];if(0===t.length)return[];let a=t.map(e=>i(e.campaign_uid));return(await Promise.allSettled(a)).filter(e=>"fulfilled"===e.status&&null!==e.value).map(e=>e.value).filter(e=>{if(!e||!e.name)return!1;let t=e.name.toLowerCase();return!t.includes("farm")&&!t.includes("test")})}async function d(e){try{let{data:t}=await n("GET",`campaigns/${e}/stats`);if(!t||Array.isArray(t)&&0===t.length)return null;return{...t,campaign_uid:e}}catch(t){return console.error(`Could not fetch or process stats for campaign ${e}. Reason:`,t),null}}async function c(e){let{data:t}=await n("GET",`lists/${e}/subscribers`,{page:"1",per_page:"10000",status:"unsubscribed"});return(Array.isArray(t)?t:t?.records)||[]}async function u(e,t){try{let{data:a}=await n("GET",`lists/${e}/subscribers`,{EMAIL:t});if(!a||Array.isArray(a)&&0===a.length)return null;return(Array.isArray(a)?a:a.records)[0]||null}catch(e){if(404===e.statusCode)return null;return console.error(`Could not fetch details for subscriber ${t}. Reason:`,e),null}}async function f(){let{data:e}=await n("GET","lists");return((Array.isArray(e)?e:e?.records)||[]).filter(e=>{if(!e||!e.general?.name)return!1;let t=e.general.name.toLowerCase();return!t.includes("farm")&&!t.includes("test")})}async function m(e){let t,a="rg591800s2a2c",s=`suppression-lists/${a}/emails`;try{let r=await n("POST",s,{},{email:e});t={listUid:a,status:"success",data:r.data}}catch(e){t={listUid:a,status:"failed",error:e.message}}return{message:`Attempted to add '${e}' to suppression list ${a}.`,success:"success"===t.status,result:t}}(0,r.D)([n,i,o,d,c,u,f,m]),(0,s.A)(n,"7852ec3e7ddc063b967db2f7fa0623d0218c23a252",null),(0,s.A)(i,"402d30a181f7d9d554d07daf8513ef4b075d357756",null),(0,s.A)(o,"0067fe022ae68bb788d0078518de7518dd262db809",null),(0,s.A)(d,"401debd37c56a1149e44bf2d2bcd5ed06b8e3ca457",null),(0,s.A)(c,"4061fbe8a50e3fd214674a2e1bfed3286bb3b0afb4",null),(0,s.A)(u,"606f0c2220a7ea490bc89fc1a2d9eb7648a15a3281",null),(0,s.A)(f,"00807426360c2866649fea2b69a90e07a1eab79d6d",null),(0,s.A)(m,"40ee5602e76ad4c4ecc1742a645ea73634620569cb",null)},21342:(e,t,a)=>{a.d(t,{SQ:()=>f,_2:()=>m,rI:()=>c,ty:()=>u});var s=a(60687),r=a(43210),l=a(83573),n=a(74158),i=a(58450),o=a(73256),d=a(4780);let c=l.bL,u=l.l9;l.YJ,l.ZL,l.Pb,l.z6,r.forwardRef(({className:e,inset:t,children:a,...r},i)=>(0,s.jsxs)(l.ZP,{ref:i,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[a,(0,s.jsx)(n.A,{className:"ml-auto"})]})).displayName=l.ZP.displayName,r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(l.G5,{ref:a,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=l.G5.displayName;let f=r.forwardRef(({className:e,sideOffset:t=4,...a},r)=>(0,s.jsx)(l.ZL,{children:(0,s.jsx)(l.UC,{ref:r,sideOffset:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));f.displayName=l.UC.displayName;let m=r.forwardRef(({className:e,inset:t,...a},r)=>(0,s.jsx)(l.q7,{ref:r,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...a}));m.displayName=l.q7.displayName,r.forwardRef(({className:e,children:t,checked:a,...r},n)=>(0,s.jsxs)(l.H_,{ref:n,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})}),t]})).displayName=l.H_.displayName,r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(l.hN,{ref:r,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(o.A,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=l.hN.displayName,r.forwardRef(({className:e,inset:t,...a},r)=>(0,s.jsx)(l.JU,{ref:r,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a})).displayName=l.JU.displayName,r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(l.wv,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=l.wv.displayName},33784:(e,t,a)=>{a.d(t,{db:()=>i,j:()=>o});var s=a(67989),r=a(75535),l=a(81948);let n=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({apiKey:"AIzaSyDLtdLHWg5nW07lFUlcmqsa90WKjTHMtlM",authDomain:"email-insights-pro-lcd3q.firebaseapp.com",projectId:"email-insights-pro-lcd3q",storageBucket:"email-insights-pro-lcd3q.firebasestorage.app",messagingSenderId:"56610768571",appId:"1:56610768571:web:04c62c52c047925da14b9e"}),i=(0,r.aU)(n),o=(0,l.xI)(n)},42692:(e,t,a)=>{a.d(t,{F:()=>i});var s=a(60687),r=a(43210),l=a(24772),n=a(4780);let i=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(l.bL,{ref:r,className:(0,n.cn)("relative overflow-hidden",e),...a,children:[(0,s.jsx)(l.LM,{className:"h-full w-full rounded-[inherit]",children:t}),(0,s.jsx)(o,{}),(0,s.jsx)(l.OK,{})]}));i.displayName=l.bL.displayName;let o=r.forwardRef(({className:e,orientation:t="vertical",...a},r)=>(0,s.jsx)(l.VM,{ref:r,orientation:t,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...a,children:(0,s.jsx)(l.lr,{className:"relative flex-1 rounded-full bg-border"})}));o.displayName=l.VM.displayName},53691:(e,t,a)=>{function s(e,t){let a=URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}function r(e,t="data.json"){s(new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),t)}function l(e,t="data.csv"){if(0===e.length)return;let a=Object.keys(e[0]);s(new Blob([[a.join(","),...e.map(e=>a.map(t=>JSON.stringify(e[t],(e,t)=>null===t?"":t)).join(","))].join("\r\n")],{type:"text/csv;charset=utf-8;"}),t)}function n(e,t="data.xml"){let a;s(new Blob([(a='<?xml version="1.0" encoding="UTF-8"?>\n<reports>\n',e.forEach(e=>{for(let t in a+="  <report>\n",e)Object.prototype.hasOwnProperty.call(e,t)&&(a+=`    <${t}>${e[t]}</${t}>
`);a+="  </report>\n"}),a+="</reports>")],{type:"application/xml"}),t)}a.d(t,{FK:()=>r,VI:()=>l,g9:()=>n})},63523:(e,t,a)=>{a.d(t,{Bh:()=>i,CI:()=>n,Jv:()=>l});var s=a(81948),r=a(33784);let l=(e,t)=>(0,s.x9)(r.j,e,t),n=()=>(0,s.CI)(r.j),i=e=>(0,s.hg)(r.j,e)},63853:(e,t,a)=>{a.r(t),a.d(t,{"00c6f1671d7098cc256129263c07149587dabcc5ec":()=>p});var s=a(91199);a(42087);var r=a(11988),l=a(59652),n=a(28574);let i=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyDLtdLHWg5nW07lFUlcmqsa90WKjTHMtlM",authDomain:"email-insights-pro-lcd3q.firebaseapp.com",projectId:"email-insights-pro-lcd3q",storageBucket:"email-insights-pro-lcd3q.firebasestorage.app",messagingSenderId:"56610768571",appId:"1:56610768571:web:04c62c52c047925da14b9e"}),o=(0,l.aU)(i);(0,n.xI)(i);var d=a(16812);async function c(e){if(0===e.length)return;let t=(0,l.wP)(o),a=(0,l.rJ)(o,"rawCampaigns");e.forEach(e=>{let s=(0,l.H9)(a,e.campaign_uid);t.set(s,e,{merge:!0})}),await t.commit()}async function u(e){if(0===e.length)return;let t=(0,l.wP)(o),a=(0,l.rJ)(o,"rawStats");e.forEach(e=>{if(e){let s=(0,l.H9)(a,e.campaign_uid);t.set(s,e,{merge:!0})}}),await t.commit()}async function f(e){if(0===e.length)return;let t=(0,l.wP)(o),a=(0,l.rJ)(o,"rawLists");e.forEach(e=>{let s=(0,l.H9)(a,e.general.list_uid);t.set(s,e)}),await t.commit()}async function m(e){if(0===e.length)return;let t=(0,l.wP)(o),a=(0,l.rJ)(o,"rawUnsubscribes");e.forEach(e=>{if(e&&e.subscriber_uid){let s=(0,l.H9)(a,e.subscriber_uid);t.set(s,e)}}),await t.commit()}async function p(){console.log("Starting full data sync...");let e=await (0,d.ME)(),t=[];if(e.length>0){let a=e.map(e=>(0,d.mk)(e.campaign_uid));t=(await Promise.allSettled(a)).filter(e=>"fulfilled"===e.status&&e.value).map(e=>e.value)}await c(e),await u(t),console.log(`Synced ${e.length} campaigns and ${t.length} stats records.`);let a=await (0,d.Mr)(),s=[];if(a.length>0){let e=a.map(e=>(0,d.HW)(e.general.list_uid)),t=(await Promise.allSettled(e)).filter(e=>"fulfilled"===e.status&&null!==e.value).flatMap(e=>e.value),r=new Map;t.forEach(e=>{e&&e.subscriber_uid&&r.set(e.subscriber_uid,e)}),s=Array.from(r.values())}return await f(a),await m(s),console.log(`Synced ${a.length} lists and ${s.length} unsubscribers.`),{success:!0,message:`Sync complete. Fetched ${e.length} campaigns, ${t.length} stats, ${a.length} lists, and ${s.length} unsubscribers.`}}(0,a(33331).D)([p]),(0,s.A)(p,"00c6f1671d7098cc256129263c07149587dabcc5ec",null)},73421:(e,t,a)=>{a.d(t,{X:()=>r});var s=a(6475);let r=(0,s.createServerReference)("00c6f1671d7098cc256129263c07149587dabcc5ec",s.callServer,void 0,s.findSourceMapURL,"syncAllData")},78933:(e,t,a)=>{a.d(t,{A:()=>i});var s=a(60687),r=a(43210),l=a(16189),n=a(63523);let i=e=>{let t=t=>{let[a,i]=(0,r.useState)(null),[o,d]=(0,r.useState)(!0),c=(0,l.useRouter)();return((0,r.useEffect)(()=>{let e=(0,n.Bh)(e=>{i(e),d(!1),e||c.push("/login")});return()=>e()},[c]),o)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("p",{children:"Loading..."})}):a?(0,s.jsx)(e,{...t}):null};return t.displayName=`WithAuth(${e.displayName||e.name||"Component"})`,t}},95775:(e,t,a)=>{a.d(t,{h:()=>l});var s=a(60687),r=a(44493);function l({title:e,value:t,icon:a,footer:l}){return(0,s.jsxs)(r.Zp,{className:"hover:shadow-lg transition-shadow duration-300",children:[(0,s.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(r.ZB,{className:"text-sm font-medium",children:e}),a]}),(0,s.jsx)(r.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:t})}),l&&(0,s.jsx)(r.wL,{className:"pt-0 -mt-2",children:(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:l})})]})}}};