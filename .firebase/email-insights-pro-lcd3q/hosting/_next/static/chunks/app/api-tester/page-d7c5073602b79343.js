(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[111],{285:(e,s,t)=>{"use strict";t.d(s,{$:()=>o});var r=t(5155),a=t(2115),i=t(9708),n=t(2085),l=t(9434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,s)=>{let{className:t,variant:a,size:n,asChild:o=!1,...c}=e,u=o?i.DX:"button";return(0,r.jsx)(u,{className:(0,l.cn)(d({variant:a,size:n,className:t})),ref:s,...c})});o.displayName="Button"},1365:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(5155),a=t(2115),i=t(285),n=t(6695),l=t(2523),d=t(8979),o=t(9434);let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...a})});c.displayName="Textarea";var u=t(4913),m=t(5695),p=t(6365);function h(){let e=(0,m.useRouter)(),[s,t]=(0,a.useState)("campaigns"),[o,p]=(0,a.useState)("vm551z0vny5b9"),[h,x]=(0,a.useState)("GET"),[f,v]=(0,a.useState)("{}"),[g,b]=(0,a.useState)([{key:"page",value:"1"},{key:"per_page",value:"10"}]),[j,y]=(0,a.useState)(!1),[N,w]=(0,a.useState)(null),[k,C]=(0,a.useState)(null),[S,R]=(0,a.useState)(null),[T,P]=(0,a.useState)(null),A=async()=>{y(!0),R(null),w(null),C(null),P(null);try{let e=await fetch("/api/tester",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:h,endpoint:s.replace("{uid}",o),params:g,body:"POST"===h?JSON.parse(f):void 0})}),t=await e.json();if(P(t.requestInfo),!e.ok){let e=t.error||"An unknown error occurred.";R(e),C(t.rawResponse||null);return}w(t.data),C(t.rawResponse)}catch(e){R(e.message||"A client-side error occurred.")}finally{y(!1)}},E=(e,s,t)=>{let r=[...g];r[e][s]=t,b(r)},I=e=>b(g.filter((s,t)=>t!==e)),B=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"{}";x(s),t(e),b(r),v(a)};return(0,r.jsxs)("div",{className:"min-h-screen bg-background text-foreground p-8 font-sans space-y-8",children:[(0,r.jsx)("div",{className:"max-w-4xl mx-auto flex justify-end",children:(0,r.jsx)(i.$,{onClick:()=>e.push("/"),children:"Back to Dashboard"})}),(0,r.jsxs)(n.Zp,{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{className:"text-2xl",children:"EP MailPro API Tester"}),(0,r.jsx)(n.BT,{children:"A utility to test various endpoints and parameters of the EP MailPro API."})]}),(0,r.jsxs)(n.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{className:"font-semibold",children:"Test Presets"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>B("campaigns","GET",[{key:"page",value:"1"},{key:"per_page",value:"10"}]),children:"Get Campaigns"}),(0,r.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>B("campaigns/{uid}/stats"),children:"Get Campaign Stats"}),(0,r.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>B("campaigns/{uid}/unsubscribes"),children:"Get Campaign Unsubscribes"}),(0,r.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>B("lists"),children:"Get Lists"}),(0,r.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>B("lists/{uid}/subscribers"),children:"Get Subscribers"}),(0,r.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>B("lists/{uid}/subscribers","GET",[{key:"status",value:"unsubscribed"}]),children:"Get Unsubscribes"}),(0,r.jsx)(i.$,{variant:"destructive",size:"sm",onClick:()=>B("lists/{uid}/subscribers","POST",[],'{\n  "EMAIL": "example@test.com",\n  "status": "unsubscribed"\n}'),children:"Create/Unsubscribe Subscriber"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"method",children:"Method"}),(0,r.jsxs)("select",{id:"method",value:h,onChange:e=>x(e.target.value),className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm",children:[(0,r.jsx)("option",{value:"GET",children:"GET"}),(0,r.jsx)("option",{value:"POST",children:"POST"})]})]}),(0,r.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,r.jsx)(d.J,{htmlFor:"endpoint",children:"Endpoint Path"}),(0,r.jsx)(l.p,{id:"endpoint",value:s,onChange:e=>t(e.target.value),placeholder:"e.g., campaigns or lists/{uid}/subscribers"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(d.J,{htmlFor:"uid",children:["Campaign/List UID (replaces `'",o,"'` in path)"]}),(0,r.jsx)(l.p,{id:"uid",value:o,onChange:e=>p(e.target.value),placeholder:"Enter a specific UID to test"})]}),"GET"===h&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(d.J,{children:"Query Parameters"}),g.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(l.p,{value:e.key,onChange:e=>E(s,"key",e.target.value),placeholder:"Key"}),(0,r.jsx)(l.p,{value:e.value,onChange:e=>E(s,"value",e.target.value),placeholder:"Value"}),(0,r.jsx)(i.$,{variant:"destructive",size:"sm",onClick:()=>I(s),children:"Remove"})]},s)),(0,r.jsx)(i.$,{variant:"secondary",size:"sm",onClick:()=>b([...g,{key:"",value:""}]),children:"Add Parameter"})]}),"POST"===h&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"body",children:"Request Body (JSON)"}),(0,r.jsx)(c,{id:"body",value:f,onChange:e=>v(e.target.value),rows:5,placeholder:'{ "key": "value" }'})]}),(0,r.jsx)(i.$,{onClick:A,disabled:j,className:"w-full",children:j?(0,r.jsx)(u.A,{className:"animate-spin"}):"Run Test"})]})]}),T&&(0,r.jsxs)(n.Zp,{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"API Request Details"}),(0,r.jsx)(n.BT,{children:"The exact URL and headers sent to the API endpoint."})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("pre",{className:"bg-muted p-4 rounded-md text-sm overflow-x-auto whitespace-pre-wrap",children:"URL: ".concat(T.url,"\n\nHeaders:\n").concat(JSON.stringify(T.headers,null,2))})})]}),(S||N||k)&&(0,r.jsxs)(n.Zp,{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"API Response"}),(0,r.jsx)(n.BT,{children:"The data returned from the API call."})]}),(0,r.jsxs)(n.Wu,{className:"space-y-6",children:[S&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-lg mb-2 text-destructive",children:"Error"}),(0,r.jsx)("pre",{className:"bg-destructive/10 text-destructive p-4 rounded-md text-sm overflow-x-auto whitespace-pre-wrap",children:S})]}),N&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-lg mb-2",children:"Parsed JSON Response Body"}),(0,r.jsx)("pre",{className:"bg-muted p-4 rounded-md text-sm overflow-x-auto",children:JSON.stringify(N,null,2)})]}),k&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-lg mb-2",children:"Raw Response Body"}),(0,r.jsx)("pre",{className:"bg-muted p-4 rounded-md text-sm overflow-x-auto whitespace-pre-wrap",children:k})]})]})]})]})}function x(){return(0,r.jsx)(p.C,{children:(0,r.jsx)(h,{})})}},1541:(e,s,t)=>{"use strict";t.d(s,{A:()=>d,AuthProvider:()=>l});var r=t(5155),a=t(2115),i=t(9323);let n=(0,a.createContext)({user:null,loading:!0});function l(e){let{children:s}=e,[t,l]=(0,a.useState)(null),[d,o]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=(0,i.Bh)(e=>{l(e),o(!1)});return()=>e()},[]),(0,r.jsx)(n.Provider,{value:{user:t,loading:d},children:s})}let d=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},2523:(e,s,t)=>{"use strict";t.d(s,{p:()=>n});var r=t(5155),a=t(2115),i=t(9434);let n=a.forwardRef((e,s)=>{let{className:t,type:a,...n}=e;return(0,r.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n})});n.displayName="Input"},3655:(e,s,t)=>{"use strict";t.d(s,{hO:()=>d,sG:()=>l});var r=t(2115),a=t(7650),i=t(9708),n=t(5155),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let t=(0,i.TL)(`Primitive.${s}`),a=r.forwardRef((e,r)=>{let{asChild:a,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(a?t:s,{...i,ref:r})});return a.displayName=`Primitive.${s}`,{...e,[s]:a}},{});function d(e,s){e&&a.flushSync(()=>e.dispatchEvent(s))}},4913:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(157).A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},6104:(e,s,t)=>{"use strict";t.d(s,{db:()=>d,j:()=>l});var r=t(3915),a=t(4903),i=t(5317);let n=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyDLtdLHWg5nW07lFUlcmqsa90WKjTHMtlM",authDomain:"email-insights-pro-lcd3q.firebaseapp.com",projectId:"email-insights-pro-lcd3q",storageBucket:"email-insights-pro-lcd3q.appspot.com",messagingSenderId:"56610768571",appId:"1:56610768571:web:04c62c52c047925da14b9e"}),l=(0,a.xI)(n),d=(0,i.aU)(n)},6365:(e,s,t)=>{"use strict";t.d(s,{C:()=>d});var r=t(5155),a=t(2115),i=t(5695),n=t(1541),l=t(4913);function d(e){let{children:s}=e,{user:t,loading:d}=(0,n.A)(),o=(0,i.useRouter)();return((0,a.useEffect)(()=>{d||t||o.push("/login")},[t,d,o]),d||!t)?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)(l.A,{className:"h-8 w-8 animate-spin"})}):(0,r.jsx)(r.Fragment,{children:s})}},6695:(e,s,t)=>{"use strict";t.d(s,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>l});var r=t(5155),a=t(2115),i=t(9434);let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});n.displayName="Card";let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...a})});l.displayName="CardHeader";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});d.displayName="CardTitle";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},8428:(e,s,t)=>{Promise.resolve().then(t.bind(t,1365))},8979:(e,s,t)=>{"use strict";t.d(s,{J:()=>c});var r=t(5155),a=t(2115),i=t(3655),n=a.forwardRef((e,s)=>(0,r.jsx)(i.sG.label,{...e,ref:s,onMouseDown:s=>{var t;s.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var l=t(2085),d=t(9434);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n,{ref:s,className:(0,d.cn)(o(),t),...a})});c.displayName=n.displayName},9323:(e,s,t)=>{"use strict";t.d(s,{Bh:()=>l,CI:()=>n,Jv:()=>i});var r=t(4903),a=t(6104);let i=(e,s)=>(0,r.x9)(a.j,e,s),n=()=>(0,r.CI)(a.j),l=e=>(0,r.hg)(a.j,e)},9434:(e,s,t)=>{"use strict";t.d(s,{b:()=>n,cn:()=>i});var r=t(2596),a=t(9688);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}function n(e){if(!e||""===e.trim()||e.startsWith("0000-00-00"))return"N/A";try{let s=new Date(e);if(isNaN(s.getTime())){let s=new Date(e.replace(" ","T"));if(isNaN(s.getTime()))return"N/A";return s.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})}return s.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(s){return console.error("Could not parse date: ".concat(e),s),"N/A"}}}},e=>{var s=s=>e(e.s=s);e.O(0,[135,210,553,441,684,358],()=>s(8428)),_N_E=e.O()}]);