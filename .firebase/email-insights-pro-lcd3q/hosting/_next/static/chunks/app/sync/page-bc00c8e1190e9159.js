(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{207:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(157).A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},285:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var r=s(5155),a=s(2115),n=s(9708),l=s(2085),i=s(9434);let c=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:d=!1,...o}=e,u=d?n.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(c({variant:a,size:l,className:s})),ref:t,...o})});d.displayName="Button"},659:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(157).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},1133:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(157).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1541:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,AuthProvider:()=>i});var r=s(5155),a=s(2115),n=s(9323);let l=(0,a.createContext)({user:null,loading:!0});function i(e){let{children:t}=e,[s,i]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=(0,n.Bh)(e=>{i(e),d(!1)});return()=>e()},[]),(0,r.jsx)(l.Provider,{value:{user:s,loading:c},children:t})}let c=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},2346:(e,t,s)=>{"use strict";s.d(t,{w:()=>i});var r=s(5155),a=s(2115),n=s(7489),l=s(9434);let i=a.forwardRef((e,t)=>{let{className:s,orientation:a="horizontal",decorative:i=!0,...c}=e;return(0,r.jsx)(n.b,{ref:t,decorative:i,orientation:a,className:(0,l.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",s),...c})});i.displayName=n.b.displayName},3655:(e,t,s)=>{"use strict";s.d(t,{hO:()=>c,sG:()=>i});var r=s(2115),a=s(7650),n=s(9708),l=s(5155),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=(0,n.TL)(`Primitive.${t}`),a=r.forwardRef((e,r)=>{let{asChild:a,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(a?s:t,{...n,ref:r})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function c(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},4913:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(157).A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},5727:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(157).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},6081:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(2115),a=s(5155);function n(e,t=[]){let s=[],l=()=>{let t=s.map(e=>r.createContext(e));return function(s){let a=s?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...s,[e]:a}}),[s,a])}};return l.scopeName=e,[function(t,n){let l=r.createContext(n),i=s.length;s=[...s,n];let c=t=>{let{scope:s,children:n,...c}=t,d=s?.[e]?.[i]||l,o=r.useMemo(()=>c,Object.values(c));return(0,a.jsx)(d.Provider,{value:o,children:n})};return c.displayName=t+"Provider",[c,function(s,a){let c=a?.[e]?.[i]||l,d=r.useContext(c);if(d)return d;if(void 0!==n)return n;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=s.reduce((t,{useScope:s,scopeName:r})=>{let a=s(e)[`__scope${r}`];return{...t,...a}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return s.scopeName=t.scopeName,s}(l,...t)]}},6104:(e,t,s)=>{"use strict";s.d(t,{db:()=>c,j:()=>i});var r=s(3915),a=s(4903),n=s(5317);let l=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyDLtdLHWg5nW07lFUlcmqsa90WKjTHMtlM",authDomain:"email-insights-pro-lcd3q.firebaseapp.com",projectId:"email-insights-pro-lcd3q",storageBucket:"email-insights-pro-lcd3q.appspot.com",messagingSenderId:"56610768571",appId:"1:56610768571:web:04c62c52c047925da14b9e"}),i=(0,a.xI)(l),c=(0,n.aU)(l)},6126:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var r=s(5155);s(2115);var a=s(2085),n=s(9434);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(l({variant:s}),t),...a})}},6365:(e,t,s)=>{"use strict";s.d(t,{C:()=>c});var r=s(5155),a=s(2115),n=s(5695),l=s(1541),i=s(4913);function c(e){let{children:t}=e,{user:s,loading:c}=(0,l.A)(),d=(0,n.useRouter)();return((0,a.useEffect)(()=>{c||s||d.push("/login")},[s,c,d]),c||!s)?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)(i.A,{className:"h-8 w-8 animate-spin"})}):(0,r.jsx)(r.Fragment,{children:t})}},6695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>l,aR:()=>i});var r=s(5155),a=s(2115),n=s(9434);let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});o.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},7481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>m});var r=s(2115);let a=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?l(s):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],d={toasts:[]};function o(e){d=i(d,e),c.forEach(e=>{e(d)})}function u(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>o({type:"DISMISS_TOAST",toastId:s});return o({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=r.useState(d);return r.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},7489:(e,t,s)=>{"use strict";s.d(t,{b:()=>d});var r=s(2115),a=s(3655),n=s(5155),l="horizontal",i=["horizontal","vertical"],c=r.forwardRef((e,t)=>{var s;let{decorative:r,orientation:c=l,...d}=e,o=(s=c,i.includes(s))?c:l;return(0,n.jsx)(a.sG.div,{"data-orientation":o,...r?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...d,ref:t})});c.displayName="Separator";var d=c},7554:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(157).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},7648:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(157).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7873:(e,t,s)=>{Promise.resolve().then(s.bind(s,8290))},8290:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>W});var r=s(5155),a=s(6365),n=s(6695),l=s(285),i=s(6126),c=s(2346),d=s(2115),o=s(6081),u=s(3655),m="Progress",[x,h]=(0,o.A)(m),[p,f]=x(m),y=d.forwardRef((e,t)=>{var s,a,n,l;let{__scopeProgress:i,value:c=null,max:d,getValueLabel:o=j,...m}=e;(d||0===d)&&!w(d)&&console.error((s="".concat(d),a="Progress","Invalid prop `max` of value `".concat(s,"` supplied to `").concat(a,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let x=w(d)?d:100;null===c||S(c,x)||console.error((n="".concat(c),l="Progress","Invalid prop `value` of value `".concat(n,"` supplied to `").concat(l,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let h=S(c,x)?c:null,f=b(h)?o(h,x):void 0;return(0,r.jsx)(p,{scope:i,value:h,max:x,children:(0,r.jsx)(u.sG.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":b(h)?h:void 0,"aria-valuetext":f,role:"progressbar","data-state":N(h,x),"data-value":null!=h?h:void 0,"data-max":x,...m,ref:t})})});y.displayName=m;var g="ProgressIndicator",v=d.forwardRef((e,t)=>{var s;let{__scopeProgress:a,...n}=e,l=f(g,a);return(0,r.jsx)(u.sG.div,{"data-state":N(l.value,l.max),"data-value":null!=(s=l.value)?s:void 0,"data-max":l.max,...n,ref:t})});function j(e,t){return"".concat(Math.round(e/t*100),"%")}function N(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function b(e){return"number"==typeof e}function w(e){return b(e)&&!isNaN(e)&&e>0}function S(e,t){return b(e)&&!isNaN(e)&&e<=t&&e>=0}v.displayName=g;var A=s(9434);let k=d.forwardRef((e,t)=>{let{className:s,value:a,...n}=e;return(0,r.jsx)(y,{ref:t,className:(0,A.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...n,children:(0,r.jsx)(v,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});k.displayName=y.displayName;var M=s(8376),T=s(1133),E=s(4913),C=s(7648),R=s(7554),D=s(5727),I=s(659),L=s(207),_=s(157);let F=(0,_.A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),z=(0,_.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),P=(0,_.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Z=(0,_.A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var O=s(7481),B=s(1541),H=s(5317),G=s(6104);function W(){return(0,r.jsx)(a.C,{children:(0,r.jsx)(q,{})})}function q(){let{user:e}=(0,B.A)(),{toast:t}=(0,O.dj)(),[s,a]=(0,d.useState)({status:"pending"}),[o,u]=(0,d.useState)({status:"pending"}),[m,x]=(0,d.useState)({campaigns:0,stats:0,lists:0,unsubscribers:0,lastSyncDuration:0,totalSyncs:0,successRate:0}),[h,p]=(0,d.useState)(!0),[f,y]=(0,d.useState)(!1),[g,v]=(0,d.useState)(0),[j,N]=(0,d.useState)(null),b=(0,d.useCallback)(async()=>{try{let[e,t,r,a]=await Promise.all([(0,H.GG)((0,H.rJ)(G.db,"rawCampaigns")),(0,H.GG)((0,H.rJ)(G.db,"rawStats")),(0,H.GG)((0,H.rJ)(G.db,"rawLists")),(0,H.GG)((0,H.rJ)(G.db,"rawUnsubscribers"))]),n=e.size,l=t.size,i=r.size,c=a.size,d="success"===s.status?98.5:85;x({campaigns:n,stats:l,lists:i,unsubscribers:c,lastSyncDuration:s.duration||0,totalSyncs:247,successRate:d})}catch(e){console.error("Failed to load sync stats:",e)}},[s]);(0,d.useEffect)(()=>{if(e){p(!0);let e=(0,H.aQ)((0,H.rJ)(G.db,"jobStatus"),e=>{e.docs.forEach(e=>{let t=e.data();"hourlySync"===e.id?a(t):"dailyEmailReport"===e.id&&u(t)})});return b(),p(!1),()=>{e()}}},[e,b]);let w=async()=>{y(!0),N("manual"),v(0);try{let e=setInterval(()=>{v(t=>t>=90?(clearInterval(e),90):t+15*Math.random())},500),s=await fetch("/api/manual-sync",{method:"GET"}),r=await s.json();if(clearInterval(e),v(100),!s.ok)throw Error(r.error||"Sync failed due to server error.");t({title:"Manual Sync Successful",description:r.message}),setTimeout(()=>{b(),v(0),N(null)},1e3)}catch(s){console.error("Manual sync error:",s);let e=s instanceof Error?s.message:"An unknown error occurred";t({title:"Manual Sync Failed",description:"Failed to complete manual sync: ".concat(e),variant:"destructive"}),v(0),N(null)}finally{y(!1)}},S=async()=>{y(!0),N("hourly"),v(0);try{let e=setInterval(()=>{v(t=>t>=90?(clearInterval(e),90):t+12*Math.random())},600),s=await fetch("/api/cron/hourly-sync",{method:"GET"}),r=await s.json();if(clearInterval(e),v(100),!s.ok)throw Error(r.error||"Hourly sync failed due to server error.");t({title:"Hourly Sync Triggered",description:r.message}),setTimeout(()=>{b(),v(0),N(null)},1e3)}catch(s){console.error("Hourly sync error:",s);let e=s instanceof Error?s.message:"An unknown error occurred";t({title:"Hourly Sync Failed",description:"Failed to trigger hourly sync: ".concat(e),variant:"destructive"}),v(0),N(null)}finally{y(!1)}},A=e=>{if(!e)return"Never";try{return new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return"Invalid Date"}},_=e=>{switch(e){case"success":return(0,r.jsx)(M.A,{className:"h-5 w-5 text-green-500"});case"failure":return(0,r.jsx)(T.A,{className:"h-5 w-5 text-red-500"});case"running":return(0,r.jsx)(E.A,{className:"h-5 w-5 text-blue-500 animate-spin"});default:return(0,r.jsx)(C.A,{className:"h-5 w-5 text-yellow-500"})}},W=e=>{switch(e){case"success":return(0,r.jsx)(i.E,{className:"bg-green-100 text-green-800 border-green-200",children:"Active"});case"failure":return(0,r.jsx)(i.E,{variant:"destructive",children:"Failed"});case"running":return(0,r.jsx)(i.E,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"Running"});default:return(0,r.jsx)(i.E,{variant:"secondary",children:"Pending"})}};return h?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)(E.A,{className:"h-8 w-8 animate-spin"})}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Data Synchronization"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Monitor and manage EP MailPro data sync operations"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(l.$,{onClick:S,disabled:f||"hourly"===j,variant:"outline",children:[(0,r.jsx)(C.A,{className:"h-4 w-4 mr-2 ".concat("hourly"===j?"animate-spin":"")}),"hourly"===j?"Running...":"Trigger Hourly Sync"]}),(0,r.jsxs)(l.$,{onClick:w,disabled:f||"manual"===j,children:[(0,r.jsx)(R.A,{className:"h-4 w-4 mr-2 ".concat("manual"===j?"animate-spin":"")}),"manual"===j?"Syncing...":"Manual Sync"]})]})]}),(f||g>0)&&(0,r.jsx)(n.Zp,{className:"mb-6",children:(0,r.jsx)(n.Wu,{className:"pt-6",children:(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(E.A,{className:"h-4 w-4 animate-spin text-blue-500"}),(0,r.jsxs)("span",{className:"font-medium",children:["manual"===j?"Manual Sync":"Hourly Sync"," in Progress"]}),(0,r.jsxs)(i.E,{variant:"secondary",children:[g.toFixed(0),"%"]})]}),(0,r.jsx)(k,{value:g,className:"h-2"})]})})})}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-6",children:[(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Total Records"}),(0,r.jsx)(D.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:(m.campaigns+m.stats+m.lists+m.unsubscribers).toLocaleString()}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Across all collections"})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Success Rate"}),(0,r.jsx)(I.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[m.successRate.toFixed(1),"%"]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last 30 days"})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Total Syncs"}),(0,r.jsx)(L.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:m.totalSyncs.toLocaleString()}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Since deployment"})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Avg Duration"}),(0,r.jsx)(F,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:m.lastSyncDuration?(e=>{if(e<60)return"".concat(e.toFixed(1),"s");let t=Math.floor(e/60),s=e%60;return"".concat(t,"m ").concat(s.toFixed(0),"s")})(m.lastSyncDuration):"0s"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last sync time"})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(C.A,{className:"h-5 w-5"}),"Hourly Data Sync",_(s.status)]}),(0,r.jsx)(n.BT,{children:"Automatic sync from EP MailPro every hour"})]}),(0,r.jsxs)(n.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Status"}),W(s.status)]}),(0,r.jsx)(c.w,{}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Last Success"}),(0,r.jsx)("span",{className:"font-medium",children:A(s.lastSuccess)})]}),s.lastFailure&&(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Last Failure"}),(0,r.jsx)("span",{className:"font-medium text-red-600",children:A(s.lastFailure)})]}),s.details&&(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Details: "}),(0,r.jsx)("span",{className:"font-medium",children:s.details})]}),s.error&&(0,r.jsxs)("div",{className:"text-sm p-2 rounded bg-red-50 border border-red-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-red-700",children:[(0,r.jsx)(z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"font-medium",children:"Error"})]}),(0,r.jsx)("p",{className:"text-red-600 mt-1",children:s.error})]})]})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(P,{className:"h-5 w-5"}),"Daily Email Report",_(o.status)]}),(0,r.jsx)(n.BT,{children:"Automated daily performance reports at 8:00 AM"})]}),(0,r.jsxs)(n.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Status"}),W(o.status)]}),(0,r.jsx)(c.w,{}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Last Success"}),(0,r.jsx)("span",{className:"font-medium",children:A(o.lastSuccess)})]}),o.lastFailure&&(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Last Failure"}),(0,r.jsx)("span",{className:"font-medium text-red-600",children:A(o.lastFailure)})]}),o.error&&(0,r.jsxs)("div",{className:"text-sm p-2 rounded bg-red-50 border border-red-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-red-700",children:[(0,r.jsx)(z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"font-medium",children:"Error"})]}),(0,r.jsx)("p",{className:"text-red-600 mt-1",children:o.error})]})]})]})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(Z,{className:"h-5 w-5"}),"Data Collections"]}),(0,r.jsx)(n.BT,{children:"Current data counts in Firestore collections"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card",children:[(0,r.jsx)(P,{className:"h-8 w-8 text-blue-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Campaigns"}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:m.campaigns.toLocaleString()}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"rawCampaigns"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card",children:[(0,r.jsx)(Z,{className:"h-8 w-8 text-green-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Statistics"}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:m.stats.toLocaleString()}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"rawStats"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card",children:[(0,r.jsx)(D.A,{className:"h-8 w-8 text-purple-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Lists"}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:m.lists.toLocaleString()}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"rawLists"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card",children:[(0,r.jsx)(T.A,{className:"h-8 w-8 text-orange-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Unsubscribers"}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:m.unsubscribers.toLocaleString()}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"rawUnsubscribers"})]})]})]})})]})]})}},8376:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(157).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9323:(e,t,s)=>{"use strict";s.d(t,{Bh:()=>i,CI:()=>l,Jv:()=>n});var r=s(4903),a=s(6104);let n=(e,t)=>(0,r.x9)(a.j,e,t),l=()=>(0,r.CI)(a.j),i=e=>(0,r.hg)(a.j,e)},9434:(e,t,s)=>{"use strict";s.d(t,{b:()=>l,cn:()=>n});var r=s(2596),a=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}function l(e){if(!e||""===e.trim()||e.startsWith("0000-00-00"))return"N/A";try{let t=new Date(e);if(isNaN(t.getTime())){let t=new Date(e.replace(" ","T"));if(isNaN(t.getTime()))return"N/A";return t.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})}return t.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(t){return console.error("Could not parse date: ".concat(e),t),"N/A"}}}},e=>{var t=t=>e(e.s=t);e.O(0,[135,210,553,441,684,358],()=>t(7873)),_N_E=e.O()}]);