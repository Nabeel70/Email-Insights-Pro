(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{207:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(157).A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},285:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var a=s(5155),r=s(2115),n=s(9708),l=s(2085),i=s(9434);let c=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:d=!1,...o}=e,u=d?n.DX:"button";return(0,a.jsx)(u,{className:(0,i.cn)(c({variant:r,size:l,className:s})),ref:t,...o})});d.displayName="Button"},659:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(157).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},1106:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M});var a=s(5155),r=s(6365),n=s(6695),l=s(285),i=s(6126),c=s(2115),d=s(5317),o=s(6104),u=s(9434);let m=e=>{if(!e||0===e.length)return{totalSends:0,totalOpens:0,totalClicks:0,totalUnsubscribes:0,avgOpenRate:0,avgClickThroughRate:0};let t=e.filter(e=>!e.campaignName.toLowerCase().includes("farm")),s=t.reduce((e,t)=>e+(t.totalSent||0),0),a=t.reduce((e,t)=>e+(t.opens||0),0),r=t.reduce((e,t)=>e+(t.clicks||0),0),n=t.reduce((e,t)=>e+(t.unsubscribes||0),0),l=t.reduce((e,t)=>e+(t.totalSent-t.bounces),0),i=l>0?parseFloat((a/l*100).toFixed(2)):0,c=l>0?parseFloat((r/l*100).toFixed(2)):0;return{totalSends:s,totalOpens:a,totalClicks:r,totalUnsubscribes:n,avgOpenRate:i,avgClickThroughRate:c}};var x=s(4913),h=s(7554),p=s(9637),f=s(157);let g=(0,f.A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var y=s(659);let j=(0,f.A)("MousePointerClick",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]]);var v=s(5299),b=s(3920),N=s(207),w=s(5727),k=s(7648),A=s(8376),S=s(1133),_=s(1920),T=s(7481),C=s(1541),R=s(7367);function M(){return(0,a.jsx)(r.C,{children:(0,a.jsx)(E,{})})}function E(){let{user:e}=(0,C.A)(),{toast:t}=(0,T.dj)(),[s,r]=(0,c.useState)([]),[f,M]=(0,c.useState)([]),[E,D]=(0,c.useState)([]),[F,L]=(0,c.useState)([]),[O,B]=(0,c.useState)(!0),[I,Z]=(0,c.useState)(!1),[z,W]=(0,c.useState)(null),[U,P]=(0,c.useState)(null),q=(0,c.useCallback)(async()=>{B(!0);try{let[e,t,s]=await Promise.all([(0,d.GG)((0,d.rJ)(o.db,"rawCampaigns")),(0,d.GG)((0,d.rJ)(o.db,"rawStats")),(0,d.GG)((0,d.rJ)(o.db,"rawUnsubscribers"))]),a=e.docs.map(e=>e.data()),n=t.docs.map(e=>e.data()),l=s.docs.map(e=>e.data()).filter(e=>"unsubscribed"===e.status),i=function(e,t){let s=t.filter(e=>null!=e);if(!e||!s||0===e.length||0===s.length)return[];let a=new Map(e.map(e=>[e.campaign_uid,e])),r=[];for(let e of s){let t=a.get(e.campaign_uid);if(t&&"number"==typeof e.delivery_success_count&&e.delivery_success_count>0){var n,l,i,c,d;let s=null!=(n=e.processed_count)?n:0,a=e.delivery_success_count,o=null!=(l=e.unique_opens_count)?l:0,m=null!=(i=e.unique_clicks_count)?i:0,x=s>0?a/s*100:100,h=a>0?o/a*100:0,p=o>0?m/o*100:0,f=t.send_at||t.date_added;r.push({campaignUid:t.campaign_uid,date:(0,u.b)(f),campaignName:t.name,fromName:t.from_name,subject:t.subject,totalSent:s,opens:o,clicks:m,unsubscribes:null!=(c=e.unsubscribes_count)?c:0,bounces:null!=(d=e.bounces_count)?d:0,deliveryRate:parseFloat(x.toFixed(2)),openRate:parseFloat(h.toFixed(2)),clickRate:parseFloat(p.toFixed(2))})}}return r.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())}(a,n);r(a),M(n),D(l),L(i)}catch(e){console.error("Failed to fetch dashboard data:",e),t({title:"Failed to load data",description:"Could not fetch dashboard data.",variant:"destructive"})}finally{B(!1)}},[t]);(0,c.useEffect)(()=>{if(e){q();let e=(0,d.H9)(o.db,"jobStatus","dailyEmailReport"),t=(0,d.H9)(o.db,"jobStatus","hourlySync"),s=(0,d.aQ)(e,e=>{W(e.data())}),a=(0,d.aQ)(t,e=>{P(e.data())});return()=>{s(),a()}}},[e,q]);let H=(0,c.useMemo)(()=>m(F),[F]),G=async()=>{Z(!0);try{let e=await fetch("/api/manual-sync",{method:"GET"}),s=await e.json();if(!e.ok)throw Error(s.error||"Sync failed due to server error.");t({title:"Sync Successful",description:s.message}),await q()}catch(s){console.error("Sync error:",s);let e=s instanceof Error?s.message:"An unknown error occurred";t({title:"Sync Failed",description:"Failed to complete data sync: ".concat(e),variant:"destructive"})}finally{Z(!1)}},V=(0,c.useMemo)(()=>s.filter(e=>"sent"===e.status).sort((e,t)=>new Date(t.send_at||t.date_added).getTime()-new Date(e.send_at||e.date_added).getTime()).slice(0,5),[s]),J=(0,c.useMemo)(()=>E.sort((e,t)=>new Date(t.date_added).getTime()-new Date(e.date_added).getTime()).slice(0,10),[E]),Q=(0,c.useMemo)(()=>{let e={};return s.forEach(t=>{e[t.status]=(e[t.status]||0)+1}),e},[s]),X=(0,c.useMemo)(()=>F.filter(e=>e.totalSent>0).sort((e,t)=>t.openRate-e.openRate).slice(0,5),[F]);return O?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)(x.A,{className:"h-8 w-8 animate-spin"})}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Email marketing analytics and insights"})]}),(0,a.jsxs)(l.$,{onClick:G,disabled:I,variant:"outline",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2 ".concat(I?"animate-spin":"")}),I?"Syncing...":"Sync Data"]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Total Campaigns"}),(0,a.jsx)(p.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.length.toLocaleString()}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[V.length," recent campaigns"]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Total Sends"}),(0,a.jsx)(g,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:H.totalSends.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Across all campaigns"})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Avg. Open Rate"}),(0,a.jsx)(y.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[H.avgOpenRate,"%"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[H.totalOpens.toLocaleString()," total opens"]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Avg. Click Rate"}),(0,a.jsx)(j,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[H.avgClickThroughRate,"%"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[H.totalClicks.toLocaleString()," total clicks"]})]})]})]}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-5 w-5"}),"Campaign Status"]}),(0,a.jsx)(n.BT,{children:"Breakdown of campaigns by status"})]}),(0,a.jsx)(n.Wu,{className:"space-y-3",children:Object.entries(Q).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("sent"===t?"bg-green-500":"draft"===t?"bg-gray-500":"scheduled"===t?"bg-blue-500":"processing"===t?"bg-yellow-500":"bg-red-500")}),(0,a.jsx)("span",{className:"capitalize text-sm",children:t})]}),(0,a.jsx)(i.E,{variant:"secondary",children:s})]},t)})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-5 w-5"}),"Recent Unsubscribes"]}),(0,a.jsxs)(n.BT,{children:["Latest ",J.length," unsubscriptions"]})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[J.length>0?J.slice(0,5).map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,a.jsx)("span",{className:"truncate max-w-[150px]",children:e.EMAIL||"Unknown"}),(0,a.jsx)("span",{className:"text-muted-foreground text-xs",children:new Date(e.date_added).toLocaleDateString()})]},e.subscriber_uid||t)):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No recent unsubscribes"}),J.length>5&&(0,a.jsx)("div",{className:"text-center pt-2",children:(0,a.jsxs)(i.E,{variant:"outline",children:[J.length-5," more"]})})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-5 w-5"}),"Top Performing"]}),(0,a.jsx)(n.BT,{children:"Campaigns with highest open rates"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-2",children:X.length>0?X.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,a.jsx)("span",{className:"truncate max-w-[120px]",children:e.campaignName}),(0,a.jsxs)(i.E,{variant:"secondary",children:[e.openRate,"%"]})]},e.campaignUid)):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No performance data"})})})]})]}),(0,a.jsxs)(n.Zp,{className:"mb-6",children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"h-5 w-5"}),"System Status"]}),(0,a.jsx)(n.BT,{children:"Automated job status and data synchronization"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)(R.ClientOnly,{children:(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-lg border bg-card",children:[(0,a.jsx)(k.A,{className:"h-6 w-6 text-primary mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Hourly Data Sync"}),(null==U?void 0:U.status)==="success"?(0,a.jsx)(A.A,{className:"h-4 w-4 text-green-500"}):(null==U?void 0:U.status)==="failure"?(0,a.jsx)(S.A,{className:"h-4 w-4 text-red-500"}):(0,a.jsx)(k.A,{className:"h-4 w-4 text-yellow-500"})]}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Syncs all data from EP MailPro every hour"}),U?(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Last sync: ",(0,u.b)(U.lastSuccess)]}),"failure"===U.status&&(0,a.jsxs)("p",{className:"text-xs text-red-500 mt-1",children:["Error: ",U.error]})]}):(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"No sync data available"})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-lg border bg-card",children:[(0,a.jsx)(p.A,{className:"h-6 w-6 text-primary mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Daily Email Report"}),(null==z?void 0:z.status)==="success"?(0,a.jsx)(A.A,{className:"h-4 w-4 text-green-500"}):(null==z?void 0:z.status)==="failure"?(0,a.jsx)(S.A,{className:"h-4 w-4 text-red-500"}):(0,a.jsx)(k.A,{className:"h-4 w-4 text-yellow-500"})]}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Sends daily reports at 7 PM EST"}),z?(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Last report: ",(0,u.b)(z.lastSuccess)]}),"failure"===z.status&&(0,a.jsxs)("p",{className:"text-xs text-red-500 mt-1",children:["Error: ",z.error]})]}):(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"No report data available"})]})]})]})})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(_.A,{className:"h-5 w-5"}),"Recent Campaigns"]}),(0,a.jsxs)(n.BT,{children:["Latest ",V.length," sent campaigns"]})]}),(0,a.jsx)(n.Wu,{children:V.length>0?(0,a.jsx)("div",{className:"space-y-4",children:V.map(e=>{let t=f.find(t=>t.campaign_uid===e.campaign_uid),s=t&&t.delivery_success_count>0?((t.unique_opens_count||0)/t.delivery_success_count*100).toFixed(1):"0";return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:e.subject}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:["From: ",e.from_name]}),(0,a.jsxs)("span",{children:["Sent: ",new Date(e.send_at||e.date_added).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)(i.E,{variant:"outline",children:[s,"% open rate"]}),t&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[(t.delivery_success_count||0).toLocaleString()," delivered"]})]})]},e.campaign_uid)})}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(p.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Recent Campaigns"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Recent sent campaigns will appear here once data is synced."})]})})]})]})}},1133:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(157).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1541:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,AuthProvider:()=>i});var a=s(5155),r=s(2115),n=s(9323);let l=(0,r.createContext)({user:null,loading:!0});function i(e){let{children:t}=e,[s,i]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let e=(0,n.Bh)(e=>{i(e),d(!1)});return()=>e()},[]),(0,a.jsx)(l.Provider,{value:{user:s,loading:c},children:t})}let c=()=>{let e=(0,r.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},1920:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(157).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},2751:(e,t,s)=>{Promise.resolve().then(s.bind(s,1106))},3920:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(157).A)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},4913:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(157).A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},5299:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(157).A)("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]])},5727:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(157).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},6104:(e,t,s)=>{"use strict";s.d(t,{db:()=>c,j:()=>i});var a=s(3915),r=s(4903),n=s(5317);let l=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyDLtdLHWg5nW07lFUlcmqsa90WKjTHMtlM",authDomain:"email-insights-pro-lcd3q.firebaseapp.com",projectId:"email-insights-pro-lcd3q",storageBucket:"email-insights-pro-lcd3q.appspot.com",messagingSenderId:"56610768571",appId:"1:56610768571:web:04c62c52c047925da14b9e"}),i=(0,r.xI)(l),c=(0,n.aU)(l)},6126:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var a=s(5155);s(2115);var r=s(2085),n=s(9434);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:s}),t),...r})}},6365:(e,t,s)=>{"use strict";s.d(t,{C:()=>c});var a=s(5155),r=s(2115),n=s(5695),l=s(1541),i=s(4913);function c(e){let{children:t}=e,{user:s,loading:c}=(0,l.A)(),d=(0,n.useRouter)();return((0,r.useEffect)(()=>{c||s||d.push("/login")},[s,c,d]),c||!s)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)(i.A,{className:"h-8 w-8 animate-spin"})}):(0,a.jsx)(a.Fragment,{children:t})}},6695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>l,aR:()=>i});var a=s(5155),r=s(2115),n=s(9434);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});l.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});o.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},7367:(e,t,s)=>{"use strict";s.d(t,{ClientOnly:()=>n});var a=s(5155),r=s(2115);function n(e){let{children:t,fallback:s=null}=e,[n,l]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{let e=setTimeout(()=>{l(!0)},10);return()=>clearTimeout(e)},[]),n)?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsx)(a.Fragment,{children:s})}},7481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>m});var a=s(2115);let r=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?l(s):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],d={toasts:[]};function o(e){d=i(d,e),c.forEach(e=>{e(d)})}function u(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>o({type:"DISMISS_TOAST",toastId:s});return o({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=a.useState(d);return a.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},7554:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(157).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},7648:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(157).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8376:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(157).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9323:(e,t,s)=>{"use strict";s.d(t,{Bh:()=>i,CI:()=>l,Jv:()=>n});var a=s(4903),r=s(6104);let n=(e,t)=>(0,a.x9)(r.j,e,t),l=()=>(0,a.CI)(r.j),i=e=>(0,a.hg)(r.j,e)},9434:(e,t,s)=>{"use strict";s.d(t,{b:()=>l,cn:()=>n});var a=s(2596),r=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}function l(e){if(!e||""===e.trim()||e.startsWith("0000-00-00"))return"N/A";try{let t=new Date(e);if(isNaN(t.getTime())){let t=new Date(e.replace(" ","T"));if(isNaN(t.getTime()))return"N/A";return t.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})}return t.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(t){return console.error("Could not parse date: ".concat(e),t),"N/A"}}},9637:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(157).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[135,210,553,441,684,358],()=>t(2751)),_N_E=e.O()}]);